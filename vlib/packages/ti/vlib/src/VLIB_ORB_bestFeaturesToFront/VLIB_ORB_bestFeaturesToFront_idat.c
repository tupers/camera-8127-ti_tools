/*******************************************************************************
**+--------------------------------------------------------------------------+**
**|                            ****                                          |**
**|                            ****                                          |**
**|                            ******o***                                    |**
**|                      ********_///_****                                   |**
**|                      ***** /_//_/ ****                                   |**
**|                       ** ** (__/ ****                                    |**
**|                           *********                                      |**
**|                            ****                                          |**
**|                            ***                                           |**
**|                                                                          |**
**|         Copyright (c) 2007-2013 Texas Instruments Incorporated           |**
**|                        ALL RIGHTS RESERVED                               |**
**|                                                                          |**
**| Permission to use, copy, modify, or distribute this software,            |**
**| whether in part or in whole, for any purpose is forbidden without        |**
**| a signed licensing agreement and NDA from Texas Instruments              |**
**| Incorporated (TI).                                                       |**
**|                                                                          |**
**| TI makes no representation or warranties with respect to the             |**
**| performance of this computer program, and specifically disclaims         |**
**| any responsibility for any damages, special or consequential,            |**
**| connected with the use of this program.                                  |**
**|                                                                          |**
**+--------------------------------------------------------------------------+**
*******************************************************************************/

#include "../common/VLIB_test.h"
#include "../common/VLIB_memory.h"
#include "VLIB_ORB_bestFeaturesToFront_idat.h"

extern uint16_t    VLIB_afast_nonmax_featurs_lvl0[];
extern uint16_t    VLIB_afast_nonmax_featurs_lvl1[];
extern int16_t     VLIB_inp_harris_score_level0[];
extern int16_t     VLIB_inp_harris_score_level1[];

extern uint16_t    VLIB_output_features_lvl0[] = { 51, 10, 55, 10, 68, 10, 76, 10, 256, 196, 85, 10, 231, 193, 258, 192, 209, 191, 229, 190, 211, 189, 185, 189, 180, 186, 64, 11, 183, 184, 181, 178, 47, 13, 67, 13, 179, 178, 88, 13, 177, 177, 179, 176, 180, 173, 49, 14, 94, 14, 119, 14, 124, 14, 39, 15, 85, 15, 176, 173, 299, 172, 178, 172, 204, 171, 297, 170, 274, 169, 245, 169, 206, 169, 201, 169, 203, 168, 290, 16, 207, 167, 205, 167, 39, 17, 48, 17, 51, 17, 61, 17, 274, 166, 264, 166, 297, 165, 122, 17, 204, 165, 202, 165, 299, 164, 300, 162, 150, 18, 266, 162, 262, 162, 275, 161, 274, 159, 121, 19, 156, 19, 276, 158, 274, 157, 124, 20, 258, 157, 37, 21, 40, 21, 249, 157, 259, 155, 118, 21, 254, 155, 274, 154, 236, 154, 257, 153, 243, 153, 248, 152, 241, 152, 232, 152, 235, 151, 239, 150,
                                                   228, 150, 225, 150, 222, 150, 216, 150, 53, 22, 272, 149, 220, 149, 218, 149, 194, 149, 184, 149, 60, 149, 223, 148, 192, 148, 275, 147, 228, 147, 24, 24, 186, 147, 184, 147, 292, 146, 223, 146, 239, 145, 217, 144, 196, 144, 189, 144, 219, 143, 193, 143, 184, 143, 174, 143, 238, 142, 202, 142, 196, 142, 188, 142, 37, 26, 182, 142, 60, 142, 253, 141, 209, 141, 288, 26, 200, 141, 53, 27, 170, 141, 209, 27, 211, 27, 54, 141, 255, 140, 290, 27, 206, 140, 191, 140, 189, 140, 186, 140, 182, 140, 180, 140, 115, 28, 154, 28, 63, 140, 61, 140, 56, 140, 295, 28, 50, 140, 240, 139, 53, 29, 217, 139, 194, 139, 178, 139, 174, 139, 88, 139, 81, 139, 41, 30, 60, 30, 76, 139, 255, 138, 186, 138, 290, 30, 295, 30, 106, 138, 49, 31, 53, 31, 265, 31, 41, 32, 65, 32,
                                                   84, 32, 85, 138, 119, 32, 83, 138, 78, 138, 233, 32, 74, 138, 65, 138, 59, 138, 57, 138, 67, 33, 112, 33, 35, 137, 249, 33, 269, 33, 290, 33, 288, 136, 184, 136, 182, 136, 180, 136, 134, 136, 107, 136, 64, 136, 95, 34, 56, 136, 132, 135, 119, 34, 75, 135, 288, 134, 189, 134, 185, 134, 91, 134, 89, 134, 66, 35, 73, 134, 70, 134, 68, 134, 265, 35, 196, 133, 133, 133, 46, 36, 129, 133, 60, 133, 58, 133, 50, 133, 234, 132, 272, 36, 211, 132, 126, 132, 111, 132, 124, 131, 73, 131, 234, 130, 185, 130, 177, 130, 91, 130, 56, 130, 131, 129, 266, 37, 274, 37, 43, 38, 124, 129, 111, 129, 73, 129, 234, 128, 37, 39, 53, 39, 57, 39, 185, 128, 272, 39, 178, 128, 93, 128, 42, 40, 46, 40, 85, 40, 284, 127, 236, 40, 242, 40, 248, 40, 251, 40,
                                                   212, 127, 181, 127, 48, 41, 61, 41, 176, 126, 277, 41, 43, 42, 173, 126, 74, 126, 208, 42, 236, 42, 285, 125, 282, 125, 280, 42, 232, 125, 198, 125, 71, 125, 211, 43, 213, 43, 243, 43, 201, 124, 43, 44, 52, 44, 232, 123, 229, 123, 122, 44, 242, 122, 224, 122, 201, 122, 41, 122, 37, 122, 198, 120, 211, 45, 196, 120, 297, 45, 173, 120, 302, 45, 305, 45, 50, 46, 182, 118, 94, 46, 98, 46, 122, 46, 177, 118, 307, 47, 171, 118, 98, 48, 135, 117, 89, 117, 292, 48, 305, 48, 300, 116, 178, 116, 125, 115, 167, 49, 95, 50, 302, 114, 135, 114, 299, 50, 301, 50, 22, 51, 19, 110, 15, 110, 93, 51, 132, 109, 295, 51, 297, 51, 57, 52, 98, 52, 135, 108, 259, 52, 165, 106, 292, 52, 305, 105, 297, 105, 236, 53, 292, 105, 249, 53, 280, 53, 302, 53,
                                                   20, 54, 155, 105, 60, 54, 223, 54, 225, 54, 232, 54, 259, 54, 155, 103, 282, 54, 291, 54, 63, 103, 155, 101, 64, 101, 253, 55, 58, 101, 96, 100, 14, 100, 12, 100, 274, 98, 272, 97, 196, 56, 226, 56, 267, 56, 292, 56, 296, 56, 61, 57, 96, 97, 199, 57, 41, 97, 220, 57, 39, 97, 263, 57, 41, 58, 43, 58, 65, 58, 154, 96, 150, 96, 105, 58, 43, 96, 275, 95, 34, 95, 196, 58, 222, 58, 47, 94, 12, 94, 274, 58, 36, 93, 179, 59, 237, 92, 259, 59, 265, 59, 229, 92, 216, 92, 211, 92, 185, 92, 38, 92, 197, 60, 12, 92, 231, 91, 218, 91, 267, 60, 273, 60, 38, 61, 102, 61, 177, 61, 179, 61, 222, 61, 205, 91, 187, 91, 183, 91, 40, 91, 96, 62, 15, 90, 13, 90, 245, 62, 306, 89, 266, 62, 284, 62, 286, 62, 291, 89,
                                                   98, 63, 230, 89, 217, 89, 196, 89, 39, 64, 188, 89, 182, 89, 122, 89, 207, 64, 223, 64, 266, 64, 186, 88, 41, 65, 46, 88, 184, 65, 245, 65, 252, 65, 304, 87, 232, 87, 230, 87, 179, 66, 217, 87, 219, 66, 235, 66, 188, 87, 124, 87, 38, 87, 307, 86, 177, 67, 187, 67, 299, 86, 296, 86, 294, 86, 291, 86, 246, 68, 248, 68, 250, 68, 285, 68, 40, 69, 122, 86, 81, 69, 210, 85, 97, 69, 208, 85, 186, 85, 96, 85, 206, 69, 49, 85, 16, 85, 234, 84, 222, 69, 230, 84, 38, 70, 43, 70, 221, 84, 219, 84, 94, 84, 175, 70, 47, 84, 187, 70, 40, 84, 13, 84, 291, 83, 280, 83, 43, 83, 230, 82, 218, 82, 212, 82, 209, 82, 183, 82, 126, 82, 123, 74, 294, 74, 297, 74, 299, 74, 47, 82, 297, 81, 294, 81, 292, 75, 292, 81,
                                                   207, 77, 209, 77, 220, 77, 223, 77, 225, 77, 231, 77, 234, 77, 236, 77, 238, 77, 244, 77, 291, 77, 296, 77, 220, 81, 58, 78, 65, 78, 282, 80, 92, 78, 233, 80, 186, 78, 195, 78, 200, 78, 211, 78, 218, 78, 230, 80, 218, 80, 64, 80, 212, 80, 97, 80, 209, 80, 183, 80, 189, 80, 197, 80 };

extern uint16_t    VLIB_output_features_lvl1[] = { 46, 10, 50, 10, 57, 10, 135, 109, 131, 109, 113, 10, 124, 109, 121, 109, 45, 12, 49, 12, 60, 12, 111, 109, 107, 109, 104, 109, 114, 12, 101, 109, 48, 14, 53, 14, 56, 14, 93, 109, 94, 14, 114, 14, 67, 109, 65, 108, 59, 108, 41, 108, 18, 108, 138, 107, 45, 16, 48, 16, 60, 16, 131, 107, 84, 16, 86, 16, 124, 107, 114, 16, 104, 107, 90, 107, 44, 18, 49, 18, 53, 18, 65, 18, 80, 18, 90, 18, 87, 107, 98, 106, 59, 106, 36, 20, 49, 20, 52, 20, 61, 20, 67, 20, 82, 20, 86, 20, 95, 20, 19, 106, 141, 105, 130, 105, 107, 105, 91, 105, 38, 22, 48, 22, 53, 22, 61, 22, 67, 22, 83, 22, 90, 22, 97, 104, 141, 103, 128, 23, 38, 24, 49, 24, 130, 103, 67, 24, 22, 102, 86, 24, 90, 24, 94, 24, 144, 101, 37, 26,
                                                   50, 26, 141, 101, 67, 26, 130, 101, 83, 26, 90, 26, 95, 26, 97, 26, 97, 100, 118, 26, 123, 26, 130, 27, 133, 27, 92, 100, 37, 28, 50, 28, 61, 28, 19, 100, 90, 28, 94, 28, 96, 28, 144, 99, 98, 98, 92, 98, 38, 30, 46, 30, 50, 30, 61, 30, 144, 97, 87, 30, 94, 30, 96, 30, 132, 97, 123, 30, 106, 96, 128, 31, 98, 96, 147, 95, 51, 32, 61, 32, 143, 95, 105, 94, 98, 94, 94, 32, 49, 94, 47, 94, 123, 32, 146, 93, 105, 92, 97, 92, 147, 91, 52, 91, 37, 34, 42, 34, 51, 34, 61, 34, 92, 34, 105, 90, 44, 90, 55, 89, 122, 88, 105, 88, 126, 35, 51, 88, 37, 36, 51, 36, 62, 36, 43, 88, 85, 36, 118, 87, 83, 87, 122, 36, 79, 87, 50, 86, 43, 86, 37, 38, 51, 38, 62, 38, 146, 85, 85, 38,
                                                   119, 85, 83, 85, 53, 85, 117, 38, 121, 38, 51, 84, 130, 39, 43, 84, 37, 40, 63, 40, 117, 83, 85, 40, 83, 83, 118, 40, 61, 82, 51, 82, 43, 82, 36, 82, 37, 42, 51, 42, 78, 81, 50, 80, 118, 42, 123, 42, 42, 80, 37, 80, 128, 43, 84, 78, 37, 44, 51, 44, 60, 78, 57, 78, 51, 78, 42, 78, 119, 44, 37, 78, 106, 77, 128, 45, 84, 76, 60, 76, 51, 76, 42, 76, 37, 46, 41, 46, 114, 75, 106, 75, 123, 74, 111, 46, 84, 74, 51, 74, 42, 74, 144, 73, 37, 48, 54, 48, 112, 73, 123, 72, 111, 48, 98, 72, 84, 72, 67, 72, 51, 72, 128, 49, 41, 72, 105, 71, 50, 50, 54, 50, 115, 70, 98, 70, 66, 70, 50, 70, 111, 50, 115, 50, 128, 51, 47, 70, 41, 52, 88, 69, 76, 69, 119, 68, 111, 52, 114, 52,
                                                   111, 68, 98, 68, 128, 53, 84, 68, 41, 54, 51, 54, 65, 68, 42, 68, 89, 67, 116, 66, 111, 54, 114, 54, 66, 55, 103, 66, 128, 55, 17, 56, 98, 66, 93, 66, 42, 56, 58, 56, 84, 66, 65, 66, 43, 66, 131, 65, 112, 56, 115, 56, 49, 57, 82, 65, 119, 64, 43, 58, 51, 58, 57, 58, 59, 58, 115, 64, 112, 64, 98, 64, 84, 64, 112, 58, 115, 58, 53, 59, 64, 64, 43, 60, 50, 60, 60, 60, 98, 60, 102, 60, 60, 64, 112, 60, 115, 60, 118, 60, 130, 63, 109, 63, 88, 61, 78, 63, 130, 61, 135, 61, 76, 63, 118, 62, 49, 62, 60, 62, 98, 62, 115, 62, 111, 62 };

static orb_bestFeaturesToFront_testParams_t    testParams[]=
{
    /********************************************
        {
           testPattern,
           *staticInFeatures, *staticInHarris, *staticOut,
           imageWidth, imageHeight,
           true_num_features, desired_num_features,
           *desc;
        },
    *********************************************/
    /* No of features below are the o/ps of non max suppressed */

    {   /* Realistic case, QVGA */
        STATIC,
        VLIB_afast_nonmax_featurs_lvl0, VLIB_inp_harris_score_level0, VLIB_output_features_lvl0,
        320, 240,
        1292, 512,
        "realistic data"
    },
    {   /* Realistic case, QQVGA (level 1 pyramid) */
        STATIC,
        VLIB_afast_nonmax_featurs_lvl1, VLIB_inp_harris_score_level1, VLIB_output_features_lvl1,
        320 / 2, 240 / 2,
        612, 303,
        "realistic data"
    },
    {   /* Worst case, best at end */
        SEQUENTIAL,
        VLIB_afast_nonmax_featurs_lvl0, NULL, NULL,
        320, 240,
        1292, 1292 / 2,
        "inversly pre-sorted"
    },
    {   /* Best case, best at beginning, negative values */
        SEQUENTIAL_NEGATIVE,
        VLIB_afast_nonmax_featurs_lvl0, NULL, NULL,
        320, 240,
        1292, 1292 / 2,
        "pre-sorted"
    },
    {   /* Small worst case, best at end (fit in 32k L2 RAM) */
        SEQUENTIAL,
        VLIB_afast_nonmax_featurs_lvl0, NULL, NULL,
        320, 240,
        200, 200 / 2,
        "inversly pre-sorted"
    },
    {   /* Small worst case, best at end (fit in 32k L2 RAM) */
        SEQUENTIAL,
        VLIB_afast_nonmax_featurs_lvl0, NULL, NULL,
        320, 240,
        100, 100 / 2,
        "inversly pre-sorted"
    },
    {   /* Small best case, best at beginning, negative values (fit in 32k L2 RAM) */
        SEQUENTIAL_NEGATIVE,
        VLIB_afast_nonmax_featurs_lvl0, NULL, NULL,
        320, 240,
        200, 200 / 2,
        "pre-sorted"
    },
    {   /* Small best case,  best at beginning, negative values (fit in 32k L2 RAM) */
        SEQUENTIAL_NEGATIVE,
        VLIB_afast_nonmax_featurs_lvl0, NULL, NULL,
        320, 240,
        100, 100 / 2,
        "pre-sorted"
    }
};

/*
 *  Sends the test parameter structure and number of tests
 */
void orb_bestFeaturesToFront_getTestParams(orb_bestFeaturesToFront_testParams_t * *params, int32_t *numTests)
{
    *params = testParams;
    *numTests = sizeof(testParams) / sizeof(orb_bestFeaturesToFront_testParams_t);
}

/* ======================================================================== */
/*  End of file:  VLIB_ORB_bestFeaturesToFront_idat.c                       */
/* ======================================================================== */

